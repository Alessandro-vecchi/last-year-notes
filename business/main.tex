\documentclass[openright, twoside, twocolumn]{report}
\usepackage{amsmath}
\usepackage[usenames,dvipsnames,table]{xcolor}
\usepackage{amssymb}
\usepackage{tikz}
\usepackage{listings}
\usepackage{quotchap}
\usepackage{epigraph}
\usepackage{etoolbox}
\usepackage{lipsum}
\usepackage[T1]{fontenc}
\usepackage{xparse}
\usepackage{hyperref}
\usepackage{amsfonts}
\usepackage{mathtools}
\usepackage{amsthm}
\usepackage{bookmark}
\usepackage{thmtools}
\usepackage[para]{footmisc}
\usepackage{booktabs}
\usepackage{microtype}

%────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
% 
% Theorems 
% 
%────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────

% Main theorem style
\declaretheorem[style=definition,numberwithin=section,thmbox=S]{theorem,definition}
\declaretheorem[thmbox=M,numberwithin=section]{lemma,corollary,proposition}

\declaretheorem[shaded={rulecolor=ProcessBlue,
rulewidth=2pt, bgcolor={rgb}{1,1,1}}]{remark,observation}

\declaretheorem[style=remark,shaded={rulecolor=Red,
rulewidth=2pt, bgcolor={rgb}{1,1,1}}]{example}

\declaretheorem[style=remark,shaded={rulecolor=SpringGreen,
rulewidth=2pt, bgcolor={rgb}{1,1,1}}]{exercise}

%Solution referring to exercise
\declaretheorem[style=remark,shaded={rulecolor=SpringGreen,
rulewidth=2pt, bgcolor={rgb}{1,1,1}}]{solution}

%%%
%
%   MARGIN NOTES SETUP
%
%%%

\usepackage{marginnote}

%%%
%
%   PGFPLOT SETUP
%
%%%

\usepackage{pgfplots}
\pgfplotsset{width=8cm, compat=1.18}

\usepackage{cleveref}

%%%
%
%   TITLE PAGE HEADER
%
%%%

\renewcommand\epigraphflush{flushright}
\renewcommand\epigraphsize{\normalsize}
\setlength\epigraphwidth{0.7\textwidth}

\definecolor{titlepagecolor}{cmyk}{1,.60,0,.40}

\DeclareFixedFont{\titlefont}{T1}{ppl}{b}{it}{0.5in}

\makeatletter                       
\def\printauthor{%                  
    {\large \@author}}              
\makeatother
\author{%
    \begin{align*}
        \text{Dario Loi, Student, Department of Computer Science}& \\
        \text{Applied Computer Science \& Artificial Intelligence}& \\
        \texttt{loi.1940849@studenti.uniroma1.it}\vspace{20pt}&
    \end{align*}
    }

% The following code is borrowed from: https://tex.stackexchange.com/a/86310/10898

\newcommand\titlepagedecoration{%
\begin{tikzpicture}[remember picture,overlay,shorten >= -10pt]

\coordinate (aux1) at ([yshift=-15pt]current page.north east);
\coordinate (aux2) at ([yshift=-410pt]current page.north east);
\coordinate (aux3) at ([xshift=-4.5cm]current page.north east);
\coordinate (aux4) at ([yshift=-150pt]current page.north east);

\begin{scope}[titlepagecolor!40,line width=12pt,rounded corners=12pt]
\draw
  (aux1) -- coordinate (a)
  ++(225:5) --
  ++(-45:5.1) coordinate (b);
\draw[shorten <= -10pt]
  (aux3) --
  (a) --
  (aux1);
\draw[opacity=0.6,titlepagecolor,shorten <= -10pt]
  (b) --
  ++(225:2.2) --
  ++(-45:2.2);
\end{scope}
\draw[titlepagecolor,line width=8pt,rounded corners=8pt,shorten <= -10pt]
  (aux4) --
  ++(225:0.8) --
  ++(-45:0.8);
\begin{scope}[titlepagecolor!70,line width=6pt,rounded corners=8pt]
\draw[shorten <= -10pt]
  (aux2) --
  ++(225:3) coordinate[pos=0.45] (c) --
  ++(-45:3.1);
\draw
  (aux2) --
  (c) --
  ++(135:2.5) --
  ++(45:2.5) --
  ++(-45:2.5) coordinate[pos=0.3] (d);   
\draw 
  (d) -- +(45:1);
\end{scope}
\end{tikzpicture}%
}

%%%
%
%   FANCY HEADER DEFINITION
%
%%%

\usepackage{fancyhdr, lastpage}
\usepackage{titlesec}
\usepackage{emptypage}
\pagestyle{fancy}

\fancyhead[LE,RO]{Dario Loi}
\fancyhead[RE,LO]{Business \& Computer Science}

\fancyfoot[CE,CO]{\leftmark}
\fancyfoot[LE,RO]{Page \thepage}

\renewcommand{\headrulewidth}{0.5pt}

\fancypagestyle{plain}{
  \renewcommand{\headrulewidth}{0pt}
  \fancyhf{}
  \fancyfoot[CE,CO]{\leftmark}
  \fancyfoot[LE,RO]{}
}

%%%
%
% HYPERREF SETUP
%
%%%

% Leave it out if you wanna look formal
%\DeclareTextFontCommand{\emph}{\bfseries}

\usepackage{hyperref}
  \hypersetup{
      colorlinks=true,
      linkcolor=blue,
      filecolor=magenta,      
      urlcolor=cyan,
      pdftitle={Business \& Computer Science},
      pdfpagemode=,
      }

%%%
%
%   TITLE PAGE MACRO
%
%%%

\newcommand\mktitlepage{
    \begin{titlepage}
        \noindent
        \titlefont Business \& Computer Science \par
        \epigraph{INSERT A QUOTE
        %
        \leavevmode %IF ENUMERATE || ITEMIZE
        %
        }%
        {\textit{CITY DATE}\\ \textsc{QUOTE AUTHOR}}
        \null\vfill
        \vspace*{1cm}
        \noindent
        \hfill
        \begin{minipage}{0.35\linewidth}
            \begin{flushright}
                \printauthor
            \end{flushright}
        \end{minipage}
        %
        \begin{minipage}{0.02\linewidth}
            \rule{1pt}{125pt}
        \end{minipage}
        \titlepagedecoration
    \end{titlepage}
}

\usepackage[a4paper, left = 3.0cm, right=4.2cm, bottom = 2.0cm, top = 4.0cm, marginparwidth=1.0cm, marginparsep=2mm, heightrounded, twoside=true]{geometry}


%%%
%
% Macroes
%
%%%

\newcommand{\sequence}[2]{
        \{ #1_1, #1_2, \dots, #1_#2 \}
}

%Common Sets
\newcommand{\R}{\mathbb{R}}
\newcommand{\N}{\mathbb{N}}
\newcommand{\Z}{\mathbb{Z}}

%insert code snippet
\NewDocumentCommand{\code}{v}{%
\texttt{#1}%
}

\newcommand{\chapterquote}[3]{ % Quote, Author, Date %
    \begin{flushleft}
            \textit{
                \`\`#1\`\`
            }
        \end{flushleft}
        \begin{flushright} 
            --- #2, \textit{#3}
        \end{flushright}
}

\begin{document}
    
    \mktitlepage
    
    
    \tableofcontents
    \newpage

    \newgeometry{a4paper, outer = 2.2cm, inner=3.4cm, bottom = 2.5cm, top = 2.5cm, marginparwidth=2.2cm, marginparsep=2mm, heightrounded, twoside=true}

    \chapter{Course Introduction}

    \section{Course Aims} 
    
    Despite what the name might make you think, the course is \emph{still} a practical one, it aims to introduce how 
    computers work in a real world scenario, such as a company.

    \paragraph{The Purpose of a Computer} 
    Through the lens of this course, the purpose of a software is to improve the company's efficency and throughput, everything 
    is evaluated through a framework of costs and profits, hence, even something as simple as buying a pen must be evaluated
    at multiple levels, from the cost of the pen itself, to the cost of the time spent by the employee to go to the store and buy it.

    \section{Course Structure}
    
    The course is usually organized in two parts, alternating on a weekly basis:

    \begin{table}[h!]
      \rowcolors{2}{gray!25}{white}
      \centering
      \begin{tabular}{c c}
          \rowcolor{gray!50}
          % Header
          $Day$ &  $Purpose$ \\
         %End Header
          Tuesday &  Lecture \\
          Thursday & Seminars\\
      \end{tabular}
      \caption{Course Structure}
      \label{tab:struct}
    \end{table}
    
    Naturally, the seminars are \emph{included} in the course's materials and are hence expected

    The exam is also split into multiple sections:

    \begin{table}[h!]
      \rowcolors{2}{gray!25}{white}
      \centering
      \begin{tabular}{c c}
          \rowcolor{gray!50}
          % Header
          Part & Contents  \\
         %End Header
          Written & 30 to 50 closed questions  \\
          Oral & Optional, to raise marks \\
      \end{tabular}
      \caption{Exam Structure}
      \label{tab:label}
    \end{table}

    The general information about the course is available at the \href{http://wwwusers.di.uniroma1.it/~cilli/}{official course page}.


    \section{Information Systems} 
    
    As studied in the first unit of \emph{Data Management \& Analysis}, an information system is a set of components that allows an organization 
    to collect, process, store and distribute information, it is \emph{not} necessarily something software-based, it can even be 
    a file cabinet!

    \begin{definition}\label{def:is}
      An Information System is something that \emph{Manages} the flow of information in an organization.
    \end{definition}

    \paragraph{Information} 
    Naturally, information is something \emph{abstract} and \emph{immaterial}, it is naturally difficult to manage, but it is possible 
    to construct a set of rules, conventions and tools that allow us to represent it in a way that is \emph{manageable}, this process 
    is the \emph{Flow}, and hence, as defined above, these systems are called \emph{Information Systems}.

    \paragraph{Computers}
    When a computer is involved, the Information System is naturally labeled a Computer Information System, or \emph{CIS} for short. 
    

    This chapter aims to give us the following capabilities

    \begin{itemize}
      \item Define what an Information System is
      \item Describe the history of Information Systems
      \item Describe the basic argument behind the article \emph{Does IT matter?} by Nicholas Carr. 
    \end{itemize}

    An information system is made up of \emph{Three} main components:

    \begin{itemize}
      \item People: In charge of decision making and organization
      \item Technology: Hardware and Software that supports the business
      \item Processes: Collecting and storing information
    \end{itemize}

    \paragraph{In General} 
    This is a pretty broad definition, that allows a wide variety of software to be seen through the lens of an Information System, 
    from network analyzers, to national healthcare systems, to online education platforms.

    \paragraph{Acronyms} 
    Depending on the application, an Information System can be called by different acronyms, such as:

    \begin{itemize}
      \item \textbf{MRP}: \emph{Manufacturing Resource Planning}
      \item \textbf{CIM}: \emph{Computer Integrated Manufacturing}
      \item \textbf{SAP}: \emph{Systems, Applications and Products}
    \end{itemize}
    
    \subsection{Anthony's Triangle} 
    
    Anthony's triangle is a diagram that categorizes the three purposes of an Information System:

    \begin{enumerate}
      \item Strategic (\emph{Executive Information System}): for senior management decisions 
      \item Tactical (\emph{Management Information System}): For middle management decisions
      \item Operational (\emph{Transaction Processing Systems}): For daily transactions of business
    \end{enumerate}

    \subsection{Information System Components} 
    Several Components work together to add value to an organization, they are 

    \begin{enumerate}
      \item Hardware: The physical components of the system
      \item Software: The programs that run on the hardware, they can be:
      \begin{itemize}
        \item Operating Systems: The programs that manage the hardware
        \item Application Software: The programs that are used by the users
      \end{itemize}
      \item Data: The information that is stored in the system
      \item People: The users of the systems, both producers and consumers of infomation
      \item Processes: The procedures that are used to collect, process and store information\footnote{%
        Organizing something in \emph{processes} that is, a series of well-defined steps, brings about a series of 
        benefits in productivity.
      }
    \end{enumerate}

    This is somewhat redundant to what we stated beforehand in \cref{def:is}, but it is important to restate it to 
    emphasize the fact that the system is composed of both \emph{People} and \emph{Technology}.

    \subsection{Processes}
    
    One of the most important components of an Information System is the \emph{Process}, it is 
    the goal of the Computer Information System to optimize the processes of an organization,
    bringing about an increase in efficency.

    \paragraph{Processes Formally} 
    Since processes are an advantageous way to organize work, it is important to spend some time to 
    also give a formal definition of their nature.

    \begin{definition}
      \label{def:proc}
      A process is a series of well-defined steps that are used to achieve a specific goal, it can 
      be defined as a set of \emph{activities}
    \end{definition}

    \section{Does IT Matter?}
    Nicholas Carr, in \emph{Harvard Business Review}, argues that Information Technology is not an \emph{Investment}, 
    but rather a commodity, so something that must be managed to optimize the company's profits by reducing its 
    operational costs.
    
    \paragraph{IT as a Marketing Tool}
    It is also interesting to note how a company is percieved as better when it uses IT, and when this IT is 
    of high quality, therefore IT can be seen as a \emph{Marketing Tool} that can be used to attract customers.
    

    \section{Mainframes}
    
    A Mainframe is a class of computer that is usuall used as the heart of an Information System, where 
    everything is \emph{centralized}, as opposed to a distributed systems, users, which in this 
    architecture are defined \emph{dumb}, are not allowed to access the system directly, but rather
    act as consumers of its services as allowed by the system's administrators and operating system.

    \begin{definition}
      \label{def:mainf}
      A \emph{Mainframe} is an architecture in which a central computer with very high 
      processing power is connected to a multitude of \emph{terminals} through a 
      \emph{star} topology, where the \emph{central computer} is the \emph{hub} of the
      network.
    \end{definition}

    Even though \emph{Mainframes} are not as popular as they used to be, they are still used in many
    field where they are unmatched in terms of performance.

    \paragraph{IBM}
    
    The current IBM's Operating System is \texttt{z/OS}, which is a \emph{Monolithic} Operating System, 
    it is being opened to different programming languages, such as \texttt{Java}, beforehand, however,
    it was only available in \texttt{COBOL}.

    \paragraph{Batch Processing} 
    
    Mainframes are based on the \emph{Batch Processing} paradigm, where a set of jobs are submitted to
    be executed in a \emph{batch}, that is, a set of jobs that are executed in a single run, this is
    in contrast to \emph{Real Time Processing}, where jobs are executed as soon as they are submitted.

    This, provided that the company has a sufficient amount of jobs to be executed, allows for a continuous
    flow of work, and hence, a higher level of productivity.

    \chapter{Process Modeling}

    \section{Modeling Business} 
    
    In order to properly formalize the concepts that are going to be introduced through the rest 
    of this course, we will introduce \emph{mathematical models} that allow us to describe the 
    ebbs end flow of human economy and companies.

    \paragraph{Processes} 
    These models are called \emph{Processes}, there are certain common classes of projects:

    \begin{enumerate}
      \item Service
      \item Support 
      \item Management and Control
      \item Physical
      \item Information 
      \item Business
    \end{enumerate}

    \section{Process Descriptors} 
    
    These processes are then described by some diagrams:

    \begin{itemize}
      \item Hierarchical
      \item State Diagrams (Automata)
      \item DFD -- Data Flow Diagram
      \item Wide -- Workflow on an Intelligent and Distributed database Environment
      \item Action Workflow
      \item Petri Nets
    \end{itemize}
    
    \subsection{Hierarchical Process Model}

    Everything in a company can be described as a set of \emph{Hierarchies}, that is, a tree of
    \emph{Processes} that are organized in a \emph{Top-Down} fashion, where the \emph{Top}
    process is known as \emph{Macroprocess}, the hierarchy goes as follows:

    \begin{enumerate}
      \item Macroprocess -- Sales
      \item Process -- Sales Management
      \item Phase -- Order Processing
      \item Activity -- Shipment
      \item Operation -- Pricing, Packaging, etc\dots
    \end{enumerate}
    
    Naturally, these hierarchy together form a \emph{Forest}. 

    \subsection{Data Flow Diagrams} 
    
    Data Flow diagrams are what we also call \emph{Flowcharts}, they are a graphical 
    representation of the flow of the data through the company`s Information Systems, 
    they are not used often due to them being subject to \emph{spaghettification}, 
    that is, the diagrams become so complex that they are hard to understand.

    These flowcharts are usually composed of a set of components that are used to represent 
    the different parts of the system, they are:
    \begin{itemize}
      \item Processes -- Circles
      \item Data Collections -- Rectangles
      \item Interface -- Bordered Rectangles
      \item Data Flows -- Directed Arrows
    \end{itemize}

    \begin{definition}[Data Flow]
      A \emph{Data Flow} represents any kind of flow in a system, the first component \emph{must} 
      be a process,the second can be either a process, a data collection or an interface, moreover, 
      they can be either 
      \begin{enumerate}
        \item Structured
        \item TODO
      \end{enumerate}
    \end{definition}

    \paragraph{Data Dictionary} 
    
    Usually, to help with readability, we provide a \emph{Data Dictionary} and a textual description of each process, 
    to help the user understand what the process does.

    \subsection{WIDE}

    Wide Relies on three main components:

    \begin{itemize}
      \item Process Model
      \item Information Model
      \item Organization Model
    \end{itemize}
    
    \paragraph{Process Model}
    Wide still relies on a \emph{Process} model, it is somewhat similar to an \emph{Activity Diagram} used 
    to describe Object Oriented Code

    \paragraph{Anti-Spaghetti Techniques}
    
    The wide model introduces some more complex components with respect to the DFD model, such as forks and joins, 
    to better describe the flow of the data through the system with fewer connections between the components.
    
    \begin{remark}
      An analyst's role is to translate the business model in a way that is understandable in layman's terms,
      that is, when you are describing a process through a graph, strive to be clear, the important thing 
      is that \emph{People Are Going to Read It}.
    \end{remark}

    \subsection{Petri Nets}

    Petri Nets are a formal model that is used to describe the flow of data through an Information Systems

    \begin{definition}[Petri Nets]
      \label{def:petri-nets}
      A petri net is a $3-\text{Tuple} = (P, T, A)$
      that forms a \emph{Bipartite Graph}:
    \[
      G = (P \cup T, A), A \subseteq (P \times T) \cup (T \times P)
    .\]

    Where:

    \begin{itemize}
      \item $P$ is a set of places
      \item $T$ is a set of transitions
      \item $A$ is a set of arcs $A \subseteq (P \times T) \cup (T \times P)$
    \end{itemize}

    There is a set of \emph{Initial Markings} $M_0 \subseteq P$ that are the places that are initially marked,
    and we have that $M:P \to N$ is a function that maps each place to a non-negative integer, that is, 
    the number of tokens in the place.

    At the end we reach a set of \emph{Final Markings} $M_f \subseteq P$ that are the places that are marked at the end of the process.
    \end{definition}

    Essentially, it is a Finite State Automata in which a set of markings indicate the states that are `Firable', once a transition 
    happens, the markings are updated, and the process continues, so we are effectively running multiple Finite State Machines 
    in parallel, each with the same topology.

    \paragraph{Terminology}
    
    Each transition $t \in  T$  has an input set ${}^{\circ}t \subseteq P$ and an output set $t^{\circ} \subseteq  P$ also called input 
    and output places, the same notation also applies to places.

    \paragraph{Petri Net Evolution}
    
    An enabled transition can \emph{Fire}, deleting a token in each input place and creating a token in each output place:

    \begin{align*}
      M_0 &= \left( 2, 1, 0, 0, 1 \right)\\
      M_0 &\to M_1\\
      M_1 &= \left( 1, 0, 1, 1, 1 \right)
    \end{align*}

    A \emph{Firable Sequence} is a sequence of transition $\sigma = \langle t_1, t_2, \ldots, t_n \rangle$ where 

    \[
      M_0 \to^{ t_1} M_1 \to^{ t_2} M_2 \ldots \to^{ t_n} M_n
    .\]

    For which we can use the closure notation $ M_0 \to^{\sigma} M_n$ to denote the evolution of the markings.
    
  \paragraph{Further Definitions} 

    Now, given a net $P = (P, T, A, M_0)$ we have that: 
    \begin{itemize}
      \item A \emph{Potentially Firable Transition}  $t \in T$  is such that 
      \[
        \exists \tau \in T^{\star} s.t \tau t \text{Is Firable}: M_0 {}^{\tau}\to^{t} 
      .\]
      \item A \emph{Potentially Firable Sequence} $\sigma \in T^{\star}$ is such that 
      there exists a prefix sequence $\tau \in T^{\star}$ such that $\tau \sigma$ is firable (
        $M_0 \to^{\tau \sigma} M_n$
        )
      \item A \emph{Reachable Marking} $M$ is such that 
      \[
         \exists \sigma\ s.t\ M_0 \to^{\sigma} M
      .\]
      \item $R( M_0)$ is the set of all reachable markings.  
      \item $P_r$ is the set of reachable places s.t 
      \[
        P_r = \left\{ p \in  P | \exists  M \in  R( M_0), M(p) > 0 \right\} 
      .\]
    \end{itemize}

    \paragraph{Petri Nets and Automata}
    
    We have that Petri nets are a generalization of automata under particular conditions:

    \begin{definition}[Petri Nets and Automatas]
      A Finite state machine is a petri net where, for each transition $t$ both 
      the input and the output places have cardinality $1$: 
      \[
        \forall  t \in  T, |{}^{\circ}t| = |t^{\circ}| = 1
      .\]
    \end{definition}
    
    \subsection{Workflow Nets}
    
    Workflow nets are a generalization of Petri Nets, in which we have two additional conditions:

    \begin{enumerate}
      \item A source s.t $|{}^{\circ}t| = 0$ for all $t \in T$\footnote{
        AI generated math, please check (will fix once the slides are up).
      }
      \item A sink s.t $|t^{\circ}| = 0$ for all $t \in T$
    \end{enumerate}
    
    Hence for each node the node is \emph{reachable} from the source and \emph{can reach} the sink.

    \paragraph{Workflow Nets as Models}
    Workflow nets are more representative of real world systems, since they can model \emph{producers} and 
    \emph{consumers} in a system, which are widespread in real world systems. 
    

    \chapter{Petri Nets -- Cont.}
    \section{Introduction} 
    Petri nets are, as aforementionedly introduced, a \emph{Graphical} and \emph{Mathematical} modelling tool, 
    that is, they are formalizable through math and representable pictorially. 

    \paragraph{Graphical Representation}

    The graphical representation is a bipartite graph, where we have two kind of nodes:
    
    \begin{itemize}
      \item Places
      \item Transitions
    \end{itemize}

    The transitions are stylized as \emph{black rectangles}, in order to distinguish them more easily, but they are easily interchangeable 
    with the usual labeled circles that are used to represent states in a finite state machine.

    Tokens are pictorially represented with dots, however, this is not that scalable, so we can also use mathematical 
    notations and label a node with a number $n \in \mathbb{N}$ to represent $n$ tokens in the place, be careful with 
    this representation since it reduces the expressiveness of the model, especially towards non-mathematics oriented 
    people.

    %%% 
    % TODO: Add a picture of a petri net, with the places and transitions.
    %%%

    \paragraph{Matemathical Representation}
    Since petri nets are just a graph, they can be rigorously formalized, as in \cref{def:petri-nets}, so we omit 
    the formal definition here to avoid redundancy. 

    \paragraph{Transition Enabling} 
    
    We can further complicate a Petri Net by introducing the concept of transition \emph{enabling}: a transition 
    is enabled if it has enough tokens in its input places to fire, and it is disabled otherwise, naturally, 
    the firing of the transition removes a token from each input place and adds a token to each output place.

    The system steps in time \emph{discretely}, that is each event happens simultaneously in a single step in 
    time.

    \paragraph{Petri Net Non-Determinism}
    
    The evolution of a petri net is not deterministic, that is, there is no guarantee that a transition will fire
    in a given step, and therefore we cannot predict the next state of the system from the current state.
    
    \paragraph{Conflicts} 
    Whenever we have a set of transition $T$ defined as such:

  \begin{align}
    T &\coloneqq  \{ t_1, t_2, \ldots, t_n \}\\
    &s.t \ \exists\, (t_i, t_j) \in T \\
    &s.t \ t_i \land  t_j \text{ are both enabled}
  \end{align}

    where the firing of one of $t_i \lor t_j$ would lead to the disabling of 
    the other, we have a \emph{conflict}, these conflicts are not too dissimilar to what was explored in the 
    Operating Systems course with the \emph{deadlock} concept\footnote{
      Specifically the dining philosophers problem.
    }, these conflicts can be resolved by introducing \emph{priority} to the transitions, that is, we can
    restructure the mathematical definition to allow for a hierarchy of transitions, or we can simply resolve 
    the conflict by restructiring the model itself.


\end{document}